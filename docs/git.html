---

title: git


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/craft/git.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/craft/git.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Commands">Commands<a class="anchor-link" href="#Commands"> </a></h2><ul>
<li><p>Print to stdout instead of less</p>
<div class="highlight"><pre><span></span>git --no-pager branch
</pre></div>
</li>
</ul>
<ul>
<li><p>Remove any remote-tracking branches which no longer exist on the remote</p>
<div class="highlight"><pre><span></span>git fetch --prune
</pre></div>
</li>
</ul>
<ul>
<li>Show commit changes</li>
</ul>

<pre><code>```sh

# last commit

git show



# offset from last commit

git show HEAD~2



git show &lt;commit_hash&gt;

```



</code></pre>
<ul>
<li><p>Change last commit's attributes</p>
<div class="highlight"><pre><span></span>git commit --amend --author<span class="o">=</span><span class="s2">&quot;&lt;name&gt; &lt;email&gt;â€œ</span>
</pre></div>
</li>
</ul>
<ul>
<li><p>Clone a single branch</p>
<div class="highlight"><pre><span></span>git clone -b mybranch --single-branch https://github.com/user/repo.git
</pre></div>
</li>
</ul>
<ul>
<li><p>Shallow clone (not full history, saves disk space)</p>
<div class="highlight"><pre><span></span>git clone --depth <span class="m">1</span> https://github.com/user/repo.git
</pre></div>
</li>
</ul>
<ul>
<li><p>Delete a local branch</p>
<div class="highlight"><pre><span></span>git branch -d &lt;branch-name&gt;
</pre></div>
</li>
</ul>
<ul>
<li><p>Delete a remote branch</p>
<div class="highlight"><pre><span></span>git push origin --delete &lt;branch-name&gt;
</pre></div>
</li>
</ul>
<ul>
<li><p>Remove (untrack) file after adding .gitignore</p>
<div class="highlight"><pre><span></span>git rm --cached path/to/file
</pre></div>
</li>
</ul>
<ul>
<li><p>Pre-commit hook</p>
<ul>
<li>Save the following file as <code>.git/hooks/pre-commit</code> and make it executable.</li>
</ul>
</li>
</ul>

<pre><code>```sh

#!/bin/sh

if git rev-parse --verify HEAD &gt;/dev/null 2&gt;&amp;1

then

    against=HEAD

else

    # Initial commit: diff against an empty tree object

    against=&lt;CHANGE-HERE&gt;

fi



# The special marker tag to mark things which we still need to change

marker="#CRUMB#"



# Redirect output to stderr.

exec 1&gt;&amp;2



if test $(git diff --cached -z $against | grep $marker | wc -c) != 0 

then

    cat &lt;&lt;\EOF

    Error: Still has invalid debug markers in code:

EOF

    echo `git diff --cached -z $against -G $marker`

    exit 1

fi

```</code></pre>

</div>
</div>
</div>
</div>
 

