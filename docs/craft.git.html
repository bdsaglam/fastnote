---

title: git


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/craft/craft.git.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/craft/craft.git.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Commands">Commands<a class="anchor-link" href="#Commands"> </a></h2><ul>
<li><p>Print to stdout instead of less</p>
<div class="highlight"><pre><span></span>git --no-pager branch
</pre></div>
</li>
</ul>
<ul>
<li><p>Remove any remote-tracking branches which no longer exist on the remote</p>
<div class="highlight"><pre><span></span>git fetch --prune
</pre></div>
</li>
</ul>
<ul>
<li>Show commit changes</li>
</ul>

<pre><code>```sh

# last commit
git show
# offset from last commit
git show HEAD~2
git show &lt;commit_hash&gt;

```



</code></pre>
<ul>
<li><p>Change last commit's attributes</p>
<div class="highlight"><pre><span></span>git commit --amend --author<span class="o">=</span><span class="s2">&quot;&lt;name&gt; &lt;email&gt;â€œ</span>
</pre></div>
</li>
</ul>
<ul>
<li><p>Clone a single branch</p>
<div class="highlight"><pre><span></span>git clone -b mybranch --single-branch https://github.com/user/repo.git
</pre></div>
</li>
</ul>
<ul>
<li><p>Shallow clone (not full history, saves disk space)</p>
<div class="highlight"><pre><span></span>git clone --depth <span class="m">1</span> https://github.com/user/repo.git
</pre></div>
</li>
</ul>
<ul>
<li><p>Delete a local branch</p>
<div class="highlight"><pre><span></span>git branch -d &lt;branch-name&gt;
</pre></div>
</li>
</ul>
<ul>
<li><p>Delete a remote branch</p>
<div class="highlight"><pre><span></span>git push origin --delete &lt;branch-name&gt;
</pre></div>
</li>
</ul>
<ul>
<li><p>Remove (untrack) file after adding .gitignore</p>
<div class="highlight"><pre><span></span>git rm --cached path/to/file
</pre></div>
</li>
</ul>
<ul>
<li><p>Pre-commit hook</p>
<ul>
<li><p>Save the following file as <code>.git/hooks/pre-commit</code> and make it executable.</p>
<div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="k">if</span> git rev-parse --verify HEAD &gt;/dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
<span class="k">then</span>
  <span class="nv">against</span><span class="o">=</span>HEAD
<span class="k">else</span>
  <span class="c1"># Initial commit: diff against an empty tree object</span>
  <span class="nv">against</span><span class="o">=</span>&lt;CHANGE-HERE&gt;
<span class="k">fi</span>
<span class="c1"># The special marker tag to mark things which we still need to change</span>
<span class="nv">marker</span><span class="o">=</span><span class="s2">&quot;#CRUMB#&quot;</span>
<span class="c1"># Redirect output to stderr.</span>
<span class="nb">exec</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>

<span class="k">if</span> <span class="nb">test</span> <span class="k">$(</span>git diff --cached -z <span class="nv">$against</span> <span class="p">|</span> grep <span class="nv">$marker</span> <span class="p">|</span> wc -c<span class="k">)</span> !<span class="o">=</span> <span class="m">0</span> 
<span class="k">then</span>
  cat <span class="s">&lt;&lt;\EOF</span>
<span class="s">  Error: Still has invalid debug markers in code:</span>
<span class="s">  EOF</span>
  <span class="nb">echo</span> <span class="sb">`</span>git diff --cached -z <span class="nv">$against</span> -G <span class="nv">$marker</span><span class="sb">`</span>
  <span class="nb">exit</span> <span class="m">1</span>
<span class="k">fi</span>
</pre></div>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
</div>
 

